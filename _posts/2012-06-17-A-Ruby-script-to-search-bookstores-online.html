---           
layout: post
title: A Ruby script to search bookstores online
date: 2009-12-26 08:48:06 UTC
updated: 2009-12-26 08:48:06 UTC
comments: false
categories: books github programming projects ruby
---
<div dir="ltr" style="text-align: left;" trbidi="on">I started dabbling in Ruby some weeks back. The initial interest was sparked after reading "Treating Code as an Essay" (Yukihiro Matsumoto) - one of the chapters in <a href="http://www.amazon.com/Beautiful-Code-Leading-Programmers-Practice/dp/0596510047" target="_blank" title="Beautiful Code">Beautiful Code</a>. So I started doing these <a href="http://www.knowing.net/index.php/2006/06/16/15-exercises-to-know-a-programming-language-part-1/" id="tgx1" target="_blank" title="www.knowing.net">bootstrapping</a> exercises in Ruby. Some of the exercises are good - but nothing beats doing a small project to learn a new language.<br /><br />I buy a lot of books, mostly online. There are a few good online bookstores in India, notably Flipkart.com, Infibeam.com and Indiaplaza.in (Sadly, Amazon does not have full-fledged shipping to India yet). The way I usually search for a book in online bookstores is (was, till now)<br /> <br /><ol><li>Go to books.google.com and enter the book title<br /> </li><li>Click on the best match<br /> </li><li>Click on 'All Sellers' on the left of the page<br /> </li><li>The Indian bookstores are usually listed towards the bottom. It does not include all stores, and sometimes the prices are not listed. I have to go to each individual site and check them out.</li></ol><br />I wanted to collapse these steps into one - a simple script that would accept the name of the book and show results from all these bookstores, with comparative pricing. And the result was this<br /><br /><a href="http://github.com/talonx/book-search" id="cb6." target="_blank" title="http://github.com/talonx/book-search">http://github.com/talonx/book-search</a><br /><br />It's in Ruby, runs from the command line and writes the output to an HTML in the same directory called 'search.html'. Much needs to be done, like<br /> <br /><ul><li>Price based listing with the lowest on top<br /> </li><li>A web interface for the search<br /> </li><li>Add more bookstores - it's only Flipkart.com, Infibeam.com, Indiaplaza and Bookadda.com right now.</li></ul><br />To run the script, type this (you need Ruby 1.8.x, available from <a href="http://www.ruby-lang.org/en/downloads/" target="_blank" title="http://www.ruby-lang.org/en/downloads/">http://www.ruby-lang.org/en/downloads/</a> and the Hpricot HTML parser library, available from <a href="http://github.com/whymirror/hpricot" target="_blank" title="http://github.com/whymirror/hpricot">http://github.com/whymirror/hpricot</a>)<br /><blockquote>ruby lib\book-search.rb "&lt;book title (in quotes if it has spaces)&gt;"</blockquote></div>